!function(e){jQuery.fn.tweetable=function(t){return t=e.extend({},e.fn.tweetable.options,t),this.each(function(){function e(){if(window.localStorage){var e=JSON.parse(localStorage.getItem("tweetable"));if(!e)return!1;var a=e&&e.timestamp||0;return n(a,t.cacheInMilliseconds)}}function a(){if(window.localStorage){var e=JSON.parse(localStorage.getItem("tweetable"));return e.value}}function n(e,t){var a=(new Date).getTime();return e>=a-t}function i(e){if(window.localStorage){var t={value:e,timestamp:(new Date).getTime()};localStorage.setItem("tweetable",JSON.stringify(t))}}function l(){jQuery("#tweet_loader").remove()}function r(){g.append('<p id="tweet_loader">'+t.loading+"</p>")}function o(){g.append('<li class="tweet_content item"><p class="tweet_link">'+t.failed+"</p></li>")}function s(e,t){g.append('<li class="tweet_content_'+e+'"><p class="tweet_link_'+e+'">'+t.response.replace(/#(.*?)(\s|$)/g,'<span class="hash">#$1 </span>').replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,'<a href="$&">$&</a> ').replace(/@(.*?)(\s|\(|\)|$)/g,'<a href="http://twitter.com/$1">@$1 </a>$2').replace(/:">/,' ">').replace(/: <\/a>/,"</a>:")+"</p></li>")}function u(e){return e&&e.error||null}function c(e,a){var n,i;for(i=0;12>=i;i++)h[i]===a.tweet_date.substr(4,3)&&(w=i++,d=9>=w?"0"+w:w);n=a.tweet_date.substr(26,4)+"-"+d+"-"+a.tweet_date.substr(8,2)+"T"+a.tweet_date.substr(11,8)+"Z",jQuery(".tweet_link_"+e).append('<p class="timestamp"><'+(t.html5?'time datetime="'+n+'"':"small")+"> "+a.tweet_date.substr(8,2)+"/"+d+"/"+a.tweet_date.substr(26,4)+", "+a.tweet_date.substr(11,5)+"</"+(t.html5?"time":"small")+"></p>")}function p(){function e(){a.eq(i++).fadeOut(400,function(){i=i===n?0:i,a.eq(i).fadeIn(400)})}var a=g.find("li"),n=a.length||null,i=0,l=t.speed;n&&(a.slice(1).hide(),setInterval(e,l))}function f(e){return u(e)?(o(),void 0):(i(e),jQuery.each(e,function(e,a){e>=t.limit||(s(e,a),t.time===!0&&c(e,a))}),t.rotate===!0&&p(),t.onComplete(g),void 0)}var d,w,m=jQuery(this),g=jQuery('<ul class="tweetList">')[t.position.toLowerCase()+"To"](m),h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_="http://api.getmytweets.co.uk/?screenname=",b="&limit=";if(e()){var v=a();f(v)}else r(),jQuery.getJSON(_+t.username+b+t.limit).done(function(e){l(),f(e.tweets)}).fail(function(){l(),o()})})},e.fn.tweetable.options={limit:5,username:"philipbeel",time:!1,rotate:!1,speed:5e3,replies:!1,position:"append",failed:"No tweets available",loading:"Loading tweets...",html5:!1,retweets:!1,cacheInMilliseconds:36e5,onComplete:function(){}}}(jQuery),jQuery.support.cors=!0;